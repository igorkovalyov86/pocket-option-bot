<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PocketOptionKovalev1bot</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #121212;
            --card-color: #1E1E1E;
            --text-color: #E0E0E0;
            --accent-color: #007AFF;
            --success-color: #34C759;
            --current-day-color: #2C2C2E;
            --border-color: #2C2C2E;
            --warning-color: #FF9500;
            --future-checked-color: #5E5CE6;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card {
            background-color: var(--card-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2 {
            color: var(--text-color);
            text-align: center;
        }
        
        .quote {
            font-size: 24px;
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-info {
            font-size: 20px;
            text-align: center;
            margin: 10px 0;
        }
        
        .big-number {
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            margin: 15px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid var(--border-color);
        }
        
        th {
            background-color: var(--card-color);
            font-weight: 500;
            position: sticky;
            top: 0;
        }
        
        input, select {
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px;
            margin: 5px 0;
            width: 100%;
        }
        
        .current-day {
            background-color: var(--current-day-color);
        }
        
        .completed {
            color: var(--success-color);
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            display: inline-block;
            cursor: pointer;
        }
        
        .checkbox.checked {
            background-color: var(--success-color);
            border-color: var(--success-color);
            position: relative;
        }
        
        .checkbox.checked::after {
            content: "‚úì";
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
        }
        
        .checkbox.future-checked {
            background-color: var(--future-checked-color);
            border-color: var(--future-checked-color);
            position: relative;
        }
        
        .checkbox.future-checked::after {
            content: "‚úì";
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
        }
        
        .flex-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .flex-item {
            flex: 1;
        }
        
        .scroll-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 20px 0;
        }
        
        #progressTableBody tr {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        #progressTableBody tr:hover {
            background-color: rgba(0, 122, 255, 0.1);
        }
        
        .left-align {
            text-align: left;
            padding-left: 20px;
        }
        
        .comparison {
            margin-top: 30px;
            padding: 15px;
            border-radius: 8px;
            background-color: rgba(0, 122, 255, 0.1);
        }
        
        .warning {
            color: var(--warning-color);
        }
        
        .success {
            color: var(--success-color);
        }
        
        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 0;
            width: 100%;
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 10px;
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--card-color);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            border: 1px solid var(--border-color);
            font-size: 14px;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Block 1: Motivational Quote -->
        <div class="card">
            <div class="quote" id="dailyQuote">
                –ó–∞–≥—Ä—É–∑–∫–∞ —Ü–∏—Ç–∞—Ç—ã...
            </div>
        </div>
        
        <!-- Block 2: Daily Progress -->
        <div class="card">
            <h1>–ü—Ä–æ–≥—Ä–µ—Å—Å</h1>
            <div class="progress-info">–ë–∞–ª–∞–Ω—Å: <span id="currentBalance" class="big-number">$0.00</span></div>
            <div class="progress-info" id="todayPlan">
                –°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –ø–ª–∞–Ω: $0.00
            </div>
            <div class="progress-info">
                –ó–∞–∫—Ä—ã—Ç–æ –¥–Ω–µ–π: <span id="completedDays">0</span> | –û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: <span id="remainingDays">365</span>
            </div>
        </div>
        
        <!-- Block 3: Balance Distribution Table -->
        <div class="card">
            <h1>–¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞</h1>
            <div class="flex-container">
                <div class="flex-item">
                    <label for="steps">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—É–ø–µ–Ω–µ–π:</label>
                    <select id="steps">
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                    </select>
                </div>
                <div class="flex-item">
                    <label for="startBalance">–°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å ($):</label>
                    <input type="number" id="startBalance" step="0.01" min="0" value="100">
                </div>
            </div>
            
            <div class="flex-container">
                <div class="flex-item">
                    <label for="firstTradePercent">% –æ—Ç –¥–µ–ø–æ–∑–∏—Ç–∞ –Ω–∞ –ø–µ—Ä–≤—É—é —Å–¥–µ–ª–∫—É:</label>
                    <input type="number" id="firstTradePercent" step="0.01" min="0" value="1">
                </div>
                <div class="flex-item">
                    <label for="martingaleCoefficient">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª–∞:</label>
                    <input type="number" id="martingaleCoefficient" step="0.01" min="1" value="2.2">
                </div>
            </div>
            
            <table id="stepsTable">
                <thead>
                    <tr>
                        <th>–°—Ç—É–ø–µ–Ω—å</th>
                        <th>–°—É–º–º–∞ —Å–¥–µ–ª–∫–∏ ($)</th>
                        <th>–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å ($)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Results will be populated here -->
                </tbody>
            </table>
        </div>
        
        <!-- Block 4: Compound Interest -->
        <div class="card">
            <h1>–°–ª–æ–∂–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç</h1>
            <div class="flex-container">
                <div class="flex-item">
                    <label for="initialDeposit">–°—Ç–∞—Ä—Ç–æ–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç ($):</label>
                    <input type="number" id="initialDeposit" step="0.01" min="0" value="1000">
                </div>
                <div class="flex-item">
                    <label for="dailyGrowth">–ü–ª–∞–Ω–æ–≤—ã–π % –ø—Ä–∏—Ä–æ—Å—Ç–∞ –≤ –¥–µ–Ω—å:</label>
                    <input type="number" id="dailyGrowth" step="0.01" min="0" value="1.5">
                </div>
            </div>
            
            <div class="flex-container" style="margin-top: 20px;">
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 30-–π –¥–µ–Ω—å:</div>
                    <div id="day30" class="progress-info">$0</div>
                </div>
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 60-–π –¥–µ–Ω—å:</div>
                    <div id="day60" class="progress-info">$0</div>
                </div>
            </div>
            
            <div class="flex-container">
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 100-–π –¥–µ–Ω—å:</div>
                    <div id="day100" class="progress-info">$0</div>
                </div>
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 200-–π –¥–µ–Ω—å:</div>
                    <div id="day200" class="progress-info">$0</div>
                </div>
            </div>
            
            <div class="flex-container">
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 300-–π –¥–µ–Ω—å:</div>
                    <div id="day300" class="progress-info">$0</div>
                </div>
                <div class="flex-item left-align">
                    <div>–ë–∞–ª–∞–Ω—Å –Ω–∞ 365-–π –¥–µ–Ω—å:</div>
                    <div id="day365" class="progress-info">$0</div>
                </div>
            </div>
        </div>
        
        <!-- Block 5: 365-Day Progress -->
        <div class="card">
            <h1>–ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –¥–Ω—è–º <span class="tooltip">(?)<span class="tooltiptext">–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–º–µ—á–∞—Ç—å –¥–Ω–∏ —Å –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ–º, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –ø–ª–∞–Ω–∞ –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥</span></span></h1>
            <div class="flex-container">
                <div class="flex-item">
                    <label for="startDate">–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
                    <input type="date" id="startDate">
                </div>
                <div class="flex-item">
                    <label for="currentDate">–¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞:</label>
                    <input type="date" id="currentDate">
                </div>
            </div>
            
            <div class="scroll-container" id="progressScrollContainer">
                <table id="progressTable">
                    <thead>
                        <tr>
                            <th>–î–µ–Ω—å</th>
                            <th>–ü–ª–∞–Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å ($)</th>
                            <th>–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å ($)</th>
                            <th>–ü—Ä–∏–±—ã–ª—å ($)</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                        </tr>
                    </thead>
                    <tbody id="progressTableBody">
                        <!-- Will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Comparison Block -->
        <div class="card comparison">
            <h2>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–ª–∞–Ω–æ–º</h2>
            <div class="flex-container">
                <div class="flex-item">
                    <div>–ü–ª–∞–Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å:</div>
                    <div id="plannedBalance" class="big-number">$0.00</div>
                </div>
                <div class="flex-item">
                    <div>–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å:</div>
                    <div id="actualBalance" class="big-number">$0.00</div>
                </div>
                <div class="flex-item">
                    <div>–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:</div>
                    <div id="deviation" class="big-number">$0.00</div>
                </div>
            </div>
        </div>
        
        <!-- Telegram Bot Integration -->
        <div class="card">
            <button class="btn" id="startBot">–ó–∞–ø—É—Å—Ç–∏—Ç—å Telegram-–±–æ—Ç–∞</button>
            <div id="botStatus" class="progress-info">–°—Ç–∞—Ç—É—Å: –ù–µ –∞–∫—Ç–∏–≤–µ–Ω</div>
        </div>
    </div>

    <script>
        // Telegram Bot API
        const BOT_TOKEN = '8183400724:AAEpEQfGwD0gWoOGIz-YS7FzoXwWVWynRVo';
        const BOT_NAME = 'PocketOptionKovalev1bot';
        let botActive = false;
        
        // Motivational quotes
        const quotes = [
            "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–¥—Ç–∏ –æ—Ç –Ω–µ—É–¥–∞—á–∏ –∫ –Ω–µ—É–¥–∞—á–µ, –Ω–µ —Ç–µ—Ä—è—è —ç–Ω—Ç—É–∑–∏–∞–∑–º–∞. ‚Äî –£–∏–Ω—Å—Ç–æ–Ω –ß–µ—Ä—á–∏–ª–ª—å",
            "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å –≤—ã–¥–∞—é—â—É—é—Å—è —Ä–∞–±–æ—Ç—É ‚Äî –ª—é–±–∏—Ç—å —Ç–æ, —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å. ‚Äî –°—Ç–∏–≤ –î–∂–æ–±—Å",
            "–í–∞—à–µ –≤—Ä–µ–º—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –Ω–µ —Ç—Ä–∞—Ç—å—Ç–µ –µ–≥–æ, –∂–∏–≤—è —á—É–∂–æ–π –∂–∏–∑–Ω—å—é. ‚Äî –°—Ç–∏–≤ –î–∂–æ–±—Å",
            "–ù–µ –±–æ–π—Ç–µ—Å—å –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –æ—Ç —Ö–æ—Ä–æ—à–µ–≥–æ –≤ –ø–æ–ª—å–∑—É –≤–µ–ª–∏–∫–æ–≥–æ. ‚Äî –î–∂–∏–º –ö–æ–ª–ª–∏–Ω–∑",
            "–°–ª–æ–∂–Ω–µ–µ –≤—Å–µ–≥–æ –Ω–∞—á–∞—Ç—å –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —É–ø–æ—Ä—Å—Ç–≤–∞. ‚Äî –ê–º–µ–ª–∏—è –≠—Ä—Ö–∞—Ä—Ç",
            "–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –±—É–¥—É—â–µ–µ ‚Äî —Å–æ–∑–¥–∞—Ç—å –µ–≥–æ. ‚Äî –ü–∏—Ç–µ—Ä –î—Ä—É–∫–µ—Ä",
            "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ –Ω–µ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞, –Ω–µ—É–¥–∞—á–∞ ‚Äî –Ω–µ —Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç –º—É–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å. ‚Äî –£–∏–Ω—Å—Ç–æ–Ω –ß–µ—Ä—á–∏–ª–ª—å",
            "–Ø –Ω–µ –ø–æ—Ç–µ—Ä–ø–µ–ª –Ω–µ—É–¥–∞—á—É. –Ø –ø—Ä–æ—Å—Ç–æ –Ω–∞—à–µ–ª 10 000 —Å–ø–æ—Å–æ–±–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç. ‚Äî –¢–æ–º–∞—Å –≠–¥–∏—Å–æ–Ω",
            "–ï—Å–ª–∏ –≤—ã –¥—É–º–∞–µ—Ç–µ, —á—Ç–æ –º–æ–∂–µ—Ç–µ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å –∏–ª–∏ –¥—É–º–∞–µ—Ç–µ, —á—Ç–æ –Ω–µ –º–æ–∂–µ—Ç–µ ‚Äî –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö –≤—ã –ø—Ä–∞–≤—ã. ‚Äî –ì–µ–Ω—Ä–∏ –§–æ—Ä–¥",
            "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ —É—Å–ø–µ—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç –¥–æ —Ä–∞–±–æ—Ç—ã ‚Äî —ç—Ç–æ —Å–ª–æ–≤–∞—Ä—å. ‚Äî –í–∏–¥–∞–ª –°–∞—Å—Å—É–Ω",
            "–ù–µ –∂–¥–∏—Ç–µ. –í—Ä–µ–º—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–º. ‚Äî –ù–∞–ø–æ–ª–µ–æ–Ω –•–∏–ª–ª",
            "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –∑–Ω–∞–Ω–∏—è –¥–∞—é—Ç –Ω–∞–∏–±–æ–ª—å—à—É—é –ø—Ä–∏–±—ã–ª—å. ‚Äî –ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω",
            "–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É —Ü–µ–ª—è–º–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏. ‚Äî –î–∂–∏–º –†–æ–Ω",
            "–ë–æ–≥–∞—Ç—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –Ω–µ —Å–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –≤—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ, –∞ —Å–∫–æ–ª—å–∫–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç–µ. ‚Äî –†–æ–±–µ—Ä—Ç –ö–∏–π–æ—Å–∞–∫–∏",
            "–†–∏—Å–∫—É–π—Ç–µ! –ï—Å–ª–∏ –≤—ã –ø–æ–±–µ–∂–¥–∞–µ—Ç–µ, –≤—ã –±—É–¥–µ—Ç–µ —Å—á–∞—Å—Ç–ª–∏–≤—ã, –µ—Å–ª–∏ –ø—Ä–æ–∏–≥—Ä–∞–µ—Ç–µ ‚Äî —Å—Ç–∞–Ω–µ—Ç–µ –º—É–¥—Ä–µ–µ. ‚Äî –°–≤–∞–Ω—Ç–µ –ê–≤–≥—É—Å—Ç",
            "–õ–∏–±–æ –≤—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ —Å–≤–æ–∏–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏, –ª–∏–±–æ –∏—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–º–∏. ‚Äî –î—ç–π–≤ –†—ç–º—Å–∏",
            "–î–µ–Ω—å–≥–∏ ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –û–Ω–∏ –¥–æ—Å—Ç–∞–≤—è—Ç –≤–∞—Å –∫—É–¥–∞ —É–≥–æ–¥–Ω–æ, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è—Ç –≤–∞—Å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–æ–¥–∏—Ç–µ–ª—è. ‚Äî –ê–π–Ω –†—ç–Ω–¥",
            "–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å –º–µ–ª–∫–∏–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏: –º–∞–ª–µ–Ω—å–∫–∞—è —Ç–µ—á—å –ø–æ—Ç–æ–ø–∏—Ç –±–æ–ª—å—à–æ–π –∫–æ—Ä–∞–±–ª—å. ‚Äî –ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω",
            "–§–æ—Ä—Ç—É–Ω–∞ —É–ª—ã–±–∞–µ—Ç—Å—è —Å–º–µ–ª—ã–º. ‚Äî –í–µ—Ä–≥–∏–ª–∏–π",
            "–°–µ–∫—Ä–µ—Ç —É—Å–ø–µ—Ö–∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å. ‚Äî –ú–∞—Ä–∫ –¢–≤–µ–Ω",
            "–ù–µ –≥–æ–≤–æ—Ä–∏—Ç–µ, —á—Ç–æ —É –≤–∞—Å –Ω–µ—Ç –≤—Ä–µ–º–µ–Ω–∏. –£ –≤–∞—Å —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ –≤—Ä–µ–º–µ–Ω–∏, —Å–∫–æ–ª—å–∫–æ –±—ã–ª–æ —É –ú–∏–∫–µ–ª–∞–Ω–¥–∂–µ–ª–æ, –ü–∞—Å—Ç–µ—Ä–∞, –ú–∞—Ç–µ—Ä–∏ –¢–µ—Ä–µ–∑—ã, –õ–µ–æ–Ω–∞—Ä–¥–æ –¥–∞ –í–∏–Ω—á–∏, –¢–æ–º–∞—Å–∞ –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω–∞ –∏ –ê–ª—å–±–µ—Ä—Ç–∞ –≠–π–Ω—à—Ç–µ–π–Ω–∞. ‚Äî –î–∂–µ–∫—Å–æ–Ω –ë—Ä–∞—É–Ω –º–ª.",
            "–ï—Å–ª–∏ –≤—ã –Ω–µ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ, –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ—Ç–µ—Ä–ø–µ—Ç—å –Ω–µ—É–¥–∞—á—É. ‚Äî –ë–µ–Ω–¥–∂–∞–º–∏–Ω –§—Ä–∞–Ω–∫–ª–∏–Ω",
            "–ë—É–¥—É—â–µ–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–µ–º, –∫—Ç–æ –≤–µ—Ä–∏—Ç –≤ –∫—Ä–∞—Å–æ—Ç—É —Å–≤–æ–µ–π –º–µ—á—Ç—ã. ‚Äî –≠–ª–µ–æ–Ω–æ—Ä–∞ –†—É–∑–≤–µ–ª—å—Ç",
            "–°–Ω–∞—á–∞–ª–∞ –æ–Ω–∏ –≤–∞—Å –Ω–µ –∑–∞–º–µ—á–∞—é—Ç, –ø–æ—Ç–æ–º —Å–º–µ—é—Ç—Å—è –Ω–∞–¥ –≤–∞–º–∏, –∑–∞—Ç–µ–º –±–æ—Ä—é—Ç—Å—è —Å –≤–∞–º–∏, –∞ –ø–æ—Ç–æ–º –≤—ã –ø–æ–±–µ–∂–¥–∞–µ—Ç–µ. ‚Äî –ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏",
            "–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–µ–¥–µ–ª –Ω–∞—à–∏–º –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–º —Å–≤–µ—Ä—à–µ–Ω–∏—è–º ‚Äî —ç—Ç–æ –Ω–∞—à–∏ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ —Å–æ–º–Ω–µ–Ω–∏—è. ‚Äî –§—Ä–∞–Ω–∫–ª–∏–Ω –†—É–∑–≤–µ–ª—å—Ç",
            "–£—Å–ø–µ—Ö ‚Äî —ç—Ç–æ —Å—É–º–º–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö —É—Å–∏–ª–∏–π, –ø–æ–≤—Ç–æ—Ä—è–µ–º—ã—Ö –∏–∑–æ –¥–Ω—è –≤ –¥–µ–Ω—å. ‚Äî –†–æ–±–µ—Ä—Ç –ö–æ–ª–ª—å–µ—Ä",
            "–ù–µ –±–æ–π—Ç–µ—Å—å —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞. –í–∞–º –µ–≥–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ—Å—Ç–∏—á—å. ‚Äî –°–∞–ª—å–≤–∞–¥–æ—Ä –î–∞–ª–∏",
            "–õ—É—á—à–∞—è –º–µ—Å—Ç—å ‚Äî –æ–≥—Ä–æ–º–Ω—ã–π —É—Å–ø–µ—Ö. ‚Äî –§—Ä—ç–Ω–∫ –°–∏–Ω–∞—Ç—Ä–∞",
            "–í–∞—à–∏ —É–±–µ–∂–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–∏–º–∏ –º—ã—Å–ª—è–º–∏, –≤–∞—à–∏ –º—ã—Å–ª–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤–∞—à–∏ —Å–ª–æ–≤–∞ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏, –≤–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–∏–º–∏ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏, –≤–∞—à–∏ –ø—Ä–∏–≤—ã—á–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–∏–º–∏ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º–∏, –≤–∞—à–∏ —Ü–µ–Ω–Ω–æ—Å—Ç—è–º–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤–∞—à–µ–π —Å—É–¥—å–±–æ–π. ‚Äî –ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏",
            "–Ø –Ω–µ –ø—Ä–æ–¥—É–∫—Ç —Å–≤–æ–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤. –Ø –ø—Ä–æ–¥—É–∫—Ç —Å–≤–æ–∏—Ö —Ä–µ—à–µ–Ω–∏–π. ‚Äî –°—Ç–∏–≤–µ–Ω –ö–æ–≤–∏"
        ];
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        let daysData = [];
        let initialDepositValue = 1000;
        let dailyGrowthValue = 0.015;
        let savedCompletedDays = [];
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        function loadSavedData() {
            try {
                const savedData = localStorage.getItem('progressData');
                if (savedData) {
                    const parsedData = JSON.parse(savedData);
                    savedCompletedDays = parsedData.completedDays || [];
                }
            } catch (e) {
                console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", e);
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        function saveProgressData() {
            const dataToSave = {
                completedDays: savedCompletedDays
            };
            localStorage.setItem('progressData', JSON.stringify(dataToSave));
        }
        
        // Display a random quote (one per day)
        function displayDailyQuote() {
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));
            const quoteIndex = dayOfYear % quotes.length;
            document.getElementById('dailyQuote').textContent = quotes[quoteIndex];
        }
        
        // Calculate steps table
        function calculateSteps() {
            const steps = parseInt(document.getElementById('steps').value);
            const startBalance = parseFloat(document.getElementById('startBalance').value);
            const firstTradePercent = parseFloat(document.getElementById('firstTradePercent').value) / 100;
            const martingaleCoefficient = parseFloat(document.getElementById('martingaleCoefficient').value);
            
            let tableHTML = '';
            let totalPreviousTrades = 0;
            let currentTrade = startBalance * firstTradePercent;
            
            for (let i = 1; i <= steps; i++) {
                const netProfit = (currentTrade * 0.92) - totalPreviousTrades;
                totalPreviousTrades += currentTrade;
                
                tableHTML += `
                    <tr>
                        <td>${i}</td>
                        <td>${currentTrade.toFixed(2)}</td>
                        <td>${netProfit.toFixed(2)}</td>
                    </tr>
                `;
                
                currentTrade *= martingaleCoefficient;
            }
            
            document.querySelector('#stepsTable tbody').innerHTML = tableHTML;
        }
        
        // Calculate compound interest projections
        function calculateProjections() {
            const initialDeposit = parseFloat(document.getElementById('initialDeposit').value);
            const dailyGrowth = parseFloat(document.getElementById('dailyGrowth').value) / 100;
            
            document.getElementById('day30').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 30)).toFixed(2);
            document.getElementById('day60').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 60)).toFixed(2);
            document.getElementById('day100').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 100)).toFixed(2);
            document.getElementById('day200').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 200)).toFixed(2);
            document.getElementById('day300').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 300)).toFixed(2);
            document.getElementById('day365').textContent = '$' + (initialDeposit * Math.pow(1 + dailyGrowth, 365)).toFixed(2);
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ–ø–µ—Ä–µ–∂–∞—é—â–∏—Ö –æ—Ç–º–µ—Ç–æ–∫
        function generateProgressTable() {
            const startDateInput = document.getElementById('startDate').value;
            const currentDateInput = document.getElementById('currentDate').value;
            
            if (!startDateInput || !currentDateInput) return;
            
            const startDate = new Date(startDateInput);
            const currentDate = new Date(currentDateInput);
            currentDate.setHours(0, 0, 0, 0);
            
            initialDepositValue = parseFloat(document.getElementById('initialDeposit').value) || 1000;
            dailyGrowthValue = (parseFloat(document.getElementById('dailyGrowth').value) || 1.5) / 100;
            const tableBody = document.getElementById('progressTableBody');
            
            tableBody.innerHTML = '';
            let actualBalance = initialDepositValue;
            daysData = [];
            
            for (let day = 1; day <= 365; day++) {
                const currentDayDate = new Date(startDate);
                currentDayDate.setDate(startDate.getDate() + day - 1);
                
                const isPast = currentDayDate < currentDate;
                const isToday = currentDayDate.toDateString() === currentDate.toDateString();
                const isFuture = !isPast && !isToday;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—Ç–º–µ—Ç–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ –¥–Ω—è
                const isChecked = savedCompletedDays.includes(day);
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–ª–∞–Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å
                const plannedBalance = initialDepositValue * Math.pow(1 + dailyGrowthValue, day - 1);
                const dailyPlan = plannedBalance * dailyGrowthValue;
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å
                let dailyProfit = 0;
                if (isChecked) {
                    dailyProfit = actualBalance * dailyGrowthValue;
                    actualBalance += dailyProfit;
                }
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–Ω—è
                const dayData = {
                    day,
                    plannedBalance,
                    actualBalance: actualBalance,
                    dailyProfit: dailyProfit,
                    isChecked,
                    isPast,
                    isToday,
                    isFuture
                };
                
                daysData.push(dayData);
                
                // –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã
                const row = document.createElement('tr');
                if (isToday) {
                    row.classList.add('current-day');
                    document.getElementById('currentBalance').textContent = '$' + actualBalance.toFixed(2);
                    document.getElementById('todayPlan').textContent = `–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –ø–ª–∞–Ω: $${(plannedBalance * dailyGrowthValue).toFixed(2)}`;
                }
                
                row.innerHTML = `
                    <td>–î–µ–Ω—å ${day}</td>
                    <td>${plannedBalance.toFixed(2)}</td>
                    <td>${!isFuture ? actualBalance.toFixed(2) : '-'}</td>
                    <td>${isChecked ? dailyProfit.toFixed(2) : '-'}</td>
                    <td>
                        <div class="checkbox ${isChecked ? (isFuture ? 'future-checked' : 'checked') : ''}" 
                             data-day="${day}"></div>
                    </td>
                `;
                
                tableBody.appendChild(row);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≥–∞–ª–æ—á–µ–∫
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                checkbox.addEventListener('click', function() {
                    const day = parseInt(this.getAttribute('data-day'));
                    const dayData = daysData.find(d => d.day === day);
                    const isFutureDay = dayData?.isFuture;
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    const isChecked = this.classList.contains('checked') || 
                                     this.classList.contains('future-checked');
                    
                    if (isChecked) {
                        this.classList.remove('checked', 'future-checked');
                    } else {
                        if (isFutureDay) {
                            this.classList.add('future-checked');
                        } else {
                            this.classList.add('checked');
                        }
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–Ω—è
                    if (dayData) {
                        dayData.isChecked = !isChecked;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–Ω–∏
                        if (!isChecked) {
                            savedCompletedDays.push(day);
                        } else {
                            savedCompletedDays = savedCompletedDays.filter(d => d !== day);
                        }
                        
                        // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –±–∞–ª–∞–Ω—Å—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –¥–Ω–µ–π
                        recalculateBalances(day);
                    }
                    
                    updateCompletedDays();
                    updateComparison();
                    saveProgressData();
                });
            });
            
            updateCompletedDays();
            updateComparison();
            scrollToCurrentDay();
        }

        // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–∞–ª–∞–Ω—Å—ã –Ω–∞—á–∏–Ω–∞—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–Ω—è
        function recalculateBalances(startFromDay) {
            let actualBalance = initialDepositValue;
            
            // –ù–∞—Ö–æ–¥–∏–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –ø–µ—Ä–µ—Å—á–µ—Ç–∞
            if (startFromDay > 1) {
                const prevDayData = daysData.find(d => d.day === startFromDay - 1);
                if (prevDayData) {
                    actualBalance = prevDayData.actualBalance;
                }
            }
            
            // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –±–∞–ª–∞–Ω—Å—ã –¥–ª—è –¥–Ω–µ–π, –Ω–∞—á–∏–Ω–∞—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ
            for (let i = startFromDay - 1; i < daysData.length; i++) {
                const dayData = daysData[i];
                
                if (dayData.isChecked) {
                    dayData.dailyProfit = actualBalance * dailyGrowthValue;
                    actualBalance += dayData.dailyProfit;
                    dayData.actualBalance = actualBalance;
                } else {
                    dayData.dailyProfit = 0;
                    dayData.actualBalance = actualBalance;
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
            updateProgressTable();
        }

        // –û–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ daysData
        function updateProgressTable() {
            const tableBody = document.getElementById('progressTableBody');
            if (!tableBody) return;
            
            tableBody.innerHTML = '';
            
            daysData.forEach(dayData => {
                const row = document.createElement('tr');
                if (dayData.isToday) {
                    row.classList.add('current-day');
                    document.getElementById('currentBalance').textContent = '$' + dayData.actualBalance.toFixed(2);
                    document.getElementById('todayPlan').textContent = `–°–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –ø–ª–∞–Ω: $${(dayData.plannedBalance * dailyGrowthValue).toFixed(2)}`;
                }
                
                row.innerHTML = `
                    <td>–î–µ–Ω—å ${dayData.day}</td>
                    <td>${dayData.plannedBalance.toFixed(2)}</td>
                    <td>${!dayData.isFuture ? dayData.actualBalance.toFixed(2) : '-'}</td>
                    <td>${dayData.isChecked ? dayData.dailyProfit.toFixed(2) : '-'}</td>
                    <td>
                        <div class="checkbox ${dayData.isChecked ? (dayData.isFuture ? 'future-checked' : 'checked') : ''}" 
                             data-day="${dayData.day}"></div>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –≥–∞–ª–æ—á–µ–∫
            document.querySelectorAll('.checkbox').forEach(checkbox => {
                checkbox.addEventListener('click', function() {
                    const day = parseInt(this.getAttribute('data-day'));
                    const dayData = daysData.find(d => d.day === day);
                    const isFutureDay = dayData?.isFuture;
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    const isChecked = this.classList.contains('checked') || 
                                     this.classList.contains('future-checked');
                    
                    if (isChecked) {
                        this.classList.remove('checked', 'future-checked');
                    } else {
                        if (isFutureDay) {
                            this.classList.add('future-checked');
                        } else {
                            this.classList.add('checked');
                        }
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–Ω—è
                    if (dayData) {
                        dayData.isChecked = !isChecked;
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–Ω–∏
                        if (!isChecked) {
                            savedCompletedDays.push(day);
                        } else {
                            savedCompletedDays = savedCompletedDays.filter(d => d !== day);
                        }
                        
                        // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º –±–∞–ª–∞–Ω—Å—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –¥–Ω–µ–π
                        recalculateBalances(day);
                    }
                    
                    updateCompletedDays();
                    updateComparison();
                    saveProgressData();
                });
            });
            
            updateCompletedDays();
            updateComparison();
        }

        // –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –¥–Ω–µ–π
        function updateCompletedDays() {
            const checkedBoxes = document.querySelectorAll('.checkbox.checked, .checkbox.future-checked').length;
            document.getElementById('completedDays').textContent = checkedBoxes;
            document.getElementById('remainingDays').textContent = 365 - checkedBoxes;
        }

        // –û–±–Ω–æ–≤–ª—è–µ—Ç –±–ª–æ–∫ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        function updateComparison() {
            const startDateInput = document.getElementById('startDate').value;
            const currentDateInput = document.getElementById('currentDate').value;
            
            if (!startDateInput || !currentDateInput) return;
            
            const startDate = new Date(startDateInput);
            const currentDate = new Date(currentDateInput);
            const diffTime = Math.abs(currentDate - startDate);
            const daysPassed = Math.floor(diffTime / (1000 * 60 * 60 * 24)) + 1; // +1 –≤–∫–ª—é—á–∞—è —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –¥–µ–Ω—å
            
            // –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –¥–Ω–µ–π (–≥–∞–ª–æ—á–µ–∫)
            const completedDaysCount = document.querySelectorAll('.checkbox.checked, .checkbox.future-checked').length;
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–ª–∞–Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
            const plannedBalanceToday = initialDepositValue * Math.pow(1 + dailyGrowthValue, daysPassed - 1);
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –±–∞–ª–∞–Ω—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –¥–Ω–µ–π
            let actualBalanceToday = initialDepositValue;
            if (completedDaysCount > 0) {
                actualBalanceToday = initialDepositValue * Math.pow(1 + dailyGrowthValue, completedDaysCount);
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ
            const deviation = actualBalanceToday - plannedBalanceToday;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º DOM
            document.getElementById('plannedBalance').textContent = '$' + plannedBalanceToday.toFixed(2);
            document.getElementById('actualBalance').textContent = '$' + actualBalanceToday.toFixed(2);
            
            if (deviation >= 0) {
                document.getElementById('deviation').className = 'big-number success';
                document.getElementById('deviation').textContent = '+$' + Math.abs(deviation).toFixed(2);
            } else {
                document.getElementById('deviation').className = 'big-number warning';
                document.getElementById('deviation').textContent = '-$' + Math.abs(deviation).toFixed(2);
            }
        }

        // Scroll to current day in progress table
        function scrollToCurrentDay() {
            const container = document.getElementById('progressScrollContainer');
            const currentDayRow = document.querySelector('.current-day');
            
            if (container && currentDayRow) {
                const scrollPosition = currentDayRow.offsetTop - container.offsetHeight / 2 + currentDayRow.offsetHeight / 2;
                container.scrollTo({ top: scrollPosition, behavior: 'smooth' });
            }
        }
        
        // Telegram Bot Functions
        async function startTelegramBot() {
            botActive = true;
            document.getElementById('botStatus').textContent = '–°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–µ–Ω';
            
            try {
                // Initialize Telegram Web App
                const tg = window.Telegram.WebApp;
                tg.expand();
                tg.enableClosingConfirmation();
                
                // Send welcome message
                const userId = tg.initDataUnsafe.user?.id;
                const firstName = tg.initDataUnsafe.user?.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                
                const welcomeMsg = `üëã –ü—Ä–∏–≤–µ—Ç, ${firstName}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –±–æ—Ç–∞ PocketOptionKovalev1bot.\n\n–í–∞—à ID: ${userId || '–Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω'}`;
                tg.showPopup({
                    title: '–ë–æ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω',
                    message: welcomeMsg,
                    buttons: [{ type: 'ok' }]
                });
                
                // Set up bot commands
                await setBotCommands();
                
                // Handle messages
                tg.onEvent('message', handleTelegramMessage);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞:', error);
                document.getElementById('botStatus').textContent = '–û—à–∏–±–∫–∞: ' + error.message;
            }
        }
        
        async function setBotCommands() {
            try {
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/setMyCommands`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        commands: [
                            { command: '/start', description: '–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞' },
                            { command: '/progress', description: '–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å' },
                            { command: '/balance', description: '–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å' },
                            { command: '/plan', description: '–ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è' },
                            { command: '/quote', description: '–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞' }
                        ]
                    })
                });
                
                const result = await response.json();
                if (!result.ok) {
                    console.error('–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥:', result.description);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞:', error);
            }
        }
        
        function handleTelegramMessage(message) {
            if (!botActive) return;
            
            const tg = window.Telegram.WebApp;
            const chatId = message.chat.id;
            const text = message.text || '';
            
            let response = '';
            
            switch(text.toLowerCase()) {
                case '/start':
                    response = "üöÄ –ë–æ—Ç PocketOptionKovalev1bot –∑–∞–ø—É—â–µ–Ω!\n\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:\n/progress - –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å\n/balance - –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å\n/plan - –ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è\n/quote - –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞";
                    break;
                    
                case '/progress':
                    const completed = document.getElementById('completedDays').textContent;
                    const remaining = document.getElementById('remainingDays').textContent;
                    response = `üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å:\n\n–ó–∞–∫—Ä—ã—Ç–æ –¥–Ω–µ–π: ${completed}\n–û—Å—Ç–∞–ª–æ—Å—å –¥–Ω–µ–π: ${remaining}`;
                    break;
                    
                case '/balance':
                    const balance = document.getElementById('currentBalance').textContent;
                    response = `üí∞ –í–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: ${balance}`;
                    break;
                    
                case '/plan':
                    const plan = document.getElementById('todayPlan').textContent;
                    response = `üéØ ${plan}`;
                    break;
                    
                case '/quote':
                    const randomIndex = Math.floor(Math.random() * quotes.length);
                    response = `üí¨ ${quotes[randomIndex]}`;
                    break;
                    
                default:
                    response = "‚ùå –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /start –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥";
            }
            
            // Send response back to user
            tg.sendData(JSON.stringify({
                method: 'sendMessage',
                chat_id: chatId,
                text: response
            }));
        }
        
        // Initialize the page
        window.onload = function() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            loadSavedData();
            
            // Set default dates to today
            const today = new Date();
            const formattedToday = today.toISOString().split('T')[0];
            document.getElementById('startDate').value = formattedToday;
            document.getElementById('currentDate').value = formattedToday;
            
            // Initialize all components
            displayDailyQuote();
            calculateSteps();
            calculateProjections();
            generateProgressTable();
            updateComparison();
            
            // Set up event listeners for automatic calculations
            document.getElementById('steps').addEventListener('change', calculateSteps);
            document.getElementById('startBalance').addEventListener('input', calculateSteps);
            document.getElementById('firstTradePercent').addEventListener('input', calculateSteps);
            document.getElementById('martingaleCoefficient').addEventListener('input', calculateSteps);
            
            document.getElementById('initialDeposit').addEventListener('input', function() {
                initialDepositValue = parseFloat(this.value) || 1000;
                calculateProjections();
                recalculateBalances(1);
                updateComparison();
            });
            
            document.getElementById('dailyGrowth').addEventListener('input', function() {
                dailyGrowthValue = (parseFloat(this.value) || 1.5) / 100;
                calculateProjections();
                recalculateBalances(1);
                updateComparison();
            });
            
            document.getElementById('startDate').addEventListener('change', function() {
                generateProgressTable();
                updateComparison();
            });
            
            document.getElementById('currentDate').addEventListener('change', function() {
                generateProgressTable();
                updateComparison();
            });
            
            // Telegram bot button
            document.getElementById('startBot').addEventListener('click', startTelegramBot);
        };
    </script>
</body>
</html>